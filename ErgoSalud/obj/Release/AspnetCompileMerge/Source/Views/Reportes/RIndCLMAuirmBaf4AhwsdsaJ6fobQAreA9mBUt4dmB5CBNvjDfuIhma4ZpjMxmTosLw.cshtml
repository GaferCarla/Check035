@model ErgoSalud.Models.ClimaLaboral_Cuestionario_Resultados_N01


<script type="text/javascript">

    $(window).load(function () {
            var ctx = document.getElementById("myChart");
            var myChart = new Chart(ctx, {
                type: 'bar',
            data: {
                labels: ["I", "II", "III", "IV", "V", "VI", "VII", "VIII", "IX"],
                datasets: [{
                label: 'Clima Laboral',
                    data: [@Model.C_I,@Model.C_II,@Model.C_III,@Model.C_IV,@Model.C_V,@Model.C_VI,@Model.C_VII,@Model.C_VIII,@Model.C_IX],
                    backgroundColor: ['@ViewBag.Resultados_Colores[0]', '@ViewBag.Resultados_Colores[1]', '@ViewBag.Resultados_Colores[2]', '@ViewBag.Resultados_Colores[3]', '@ViewBag.Resultados_Colores[4]', '@ViewBag.Resultados_Colores[5]', '@ViewBag.Resultados_Colores[6]',
                        '@ViewBag.Resultados_Colores[7]', '@ViewBag.Resultados_Colores[8]'],
                    hoverBackgroundColor: ['@ViewBag.Resultados_Colores[0]', '@ViewBag.Resultados_Colores[1]', '@ViewBag.Resultados_Colores[2]', '@ViewBag.Resultados_Colores[3]', '@ViewBag.Resultados_Colores[4]', '@ViewBag.Resultados_Colores[5]', '@ViewBag.Resultados_Colores[6]',
                        '@ViewBag.Resultados_Colores[7]', '@ViewBag.Resultados_Colores[8]']
           }]
            },
            options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                        }
                    }]
                }, legend: {
                    display: false,
                    labels: {
                        fontColor: 'rgb(255, 0, 255)'
                    }
                }
            }
        });
    });
</script>


<h4 align="center">EVALUACIÓN DE PERCEPCIÓN DE CLIMA LABORAL Y NO DISCRIMINACIÓN</h4>
<table class="table table-condensed">
    <caption>Datos Empleado</caption>
    <thead>
        <tr>
            <th>No. Empleado</th>
            <th>Nombre</th>
            <th>Departamento</th>
            <th>Empresa</th>
            <th>Centro de Trabajo</th>
        </tr>
    </thead>

    <tbody>
        <tr>
            <td>@Html.DisplayFor(model => model.ERGOS_Cuestionarios_Trabajador_N01.id_trabajador)</td>
            <td>@Html.DisplayFor(model => model.ERGOS_Cuestionarios_Trabajador_N01.Nombre)</td>
            <td>@Html.DisplayFor(model => model.ERGOS_Cuestionarios_Trabajador_N01.Departamento)</td>
            <td>@Html.DisplayFor(model => model.ERGOS_Cuestionarios_Trabajador_N01.ERGOS_Empresas_N01.Razon_Social)</td>
            <td>@Html.DisplayFor(model => model.ERGOS_Cuestionarios_Trabajador_N01.ERGOS_Centros_Trabajo_N01.Nombre_centro_trabajo)</td>

        </tr>
    </tbody>
</table>
<h3 align="center">Resultados Individuales</h3>
<div class="col-xs-12 col-sm-8 col-sm-offset-2">
    <canvas id="myChart"></canvas>
    <hr>
</div>

<hr />
<table class="table table-striped">
    <caption>Reporte de Resultados Individuales</caption>
    <thead>
        <tr>
            <th>Apartado de Referencia</th>
            <th>Puntaje Obtenido</th>
            <th>Puntaje Máximo</th>
            <th>Puntaje Final</th>
        </tr>
    </thead>

    <tbody>
        <tr>
            <td>
                Reclutamiento y selección de personal
            </td>
            <td>
                @ViewBag.Resultados_Reales[0]
            </td>
            <td>12</td>
            <td align="center" style="background-color:@ViewBag.Resultados_Colores[0]"> @Html.DisplayFor(model => model.C_I) </td>

        </tr>

        <tr>
            <td>Formación y capacitación</td>
            <td>
                @ViewBag.Resultados_Reales[1]
            </td>
            <td>12</td>
            <td align="center" style="background-color:@ViewBag.Resultados_Colores[1]"> @Html.DisplayFor(model => model.C_II) </td>


        </tr>

        <tr>
            <td>Permanencia y ascenso</td>
            <td>
                @ViewBag.Resultados_Reales[2]
            </td>
            <td>18</td>
            <td align="center" style="background-color:@ViewBag.Resultados_Colores[2]"> @Html.DisplayFor(model => model.C_III) </td>

        </tr>
        <tr>
            <td>Corresponsabilidad en la vida laboral, familiar y personal</td>
            <td>
                @ViewBag.Resultados_Reales[3]
            </td>
            <td>27</td>
            <td align="center" style="background-color:@ViewBag.Resultados_Colores[3]"> @Html.DisplayFor(model => model.C_IV) </td>

        </tr>
        <tr>
            <td>Clima laboral libre de violencia</td>
            <td>
                @ViewBag.Resultados_Reales[4]
            </td>
            <td>42</td>
            <td align="center" style="background-color:@ViewBag.Resultados_Colores[4]"> @Html.DisplayFor(model => model.C_V) </td>

        </tr>
        <tr>
            <td>Acoso y Hostigamiento</td>
            <td>
                @ViewBag.Resultados_Reales[5]
            </td>
            <td>24</td>
            <td align="center" style="background-color:@ViewBag.Resultados_Colores[5]"> @Html.DisplayFor(model => model.C_VI) </td>

        </tr>
        <tr>
            <td>Accesibilidad</td>
            <td>
                @ViewBag.Resultados_Reales[6]
            </td>
            <td>15</td>
            <td align="center" style="background-color:@ViewBag.Resultados_Colores[6]"> @Html.DisplayFor(model => model.C_VII) </td>

        </tr>
        <tr>
            <td>Respeto a la diversidad</td>
            <td>
                @ViewBag.Resultados_Reales[7]
            </td>
            <td>6</td>
            <td align="center" style="background-color:@ViewBag.Resultados_Colores[7]"> @Html.DisplayFor(model => model.C_VIII) </td>

        </tr>
        <tr>
            <td>Condiciones generales de trabajo</td>
            <td>
                @ViewBag.Resultados_Reales[8]
            </td>
            <td>12</td>
            <td align="center" style="background-color:@ViewBag.Resultados_Colores[8]"> @Html.DisplayFor(model => model.C_IX) </td>

        </tr>
    </tbody>
</table>
<p>
    La puntuación total de la evaluación de clima laboral es de 168 equivalente a 100 puntos.<br>
    Puntuación total obtenida:  @{
        float result_final_sum = (float)@ViewBag.Resultados_Reales[0] + (float)@ViewBag.Resultados_Reales[1] + (float)@ViewBag.Resultados_Reales[2] + (float)@ViewBag.Resultados_Reales[3] + (float)@ViewBag.Resultados_Reales[4] +
            (float)@ViewBag.Resultados_Reales[5] + (float)@ViewBag.Resultados_Reales[6] + (float)@ViewBag.Resultados_Reales[7] + (float)@ViewBag.Resultados_Reales[8];
        //float result_final = result_final_sum * 100 / 168;
        <b>@result_final_sum</b> <span>equivalente a</span> <b>@Model.Calificacion</b>
    }
</p>
<div>


</div>
